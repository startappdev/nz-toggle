!function(){var e=angular.module("nzToggle",[]);e.directive("nzToggle",["$timeout",function(e){return{restrict:"E",replace:!0,scope:{config:"=?",ngModel:"=",onToggle:"&",ngDisabled:"="},template:['<div class="nz-toggle-wrap" ng-class="getStyle()" ng-style="wrapStyle">','   <div class="nz-toggle">','       <div class="nz-toggle-handle icon-slider"></div>',"   </div>",'   <div class="nz-toggle-tooltip" ng-show="tooltip">',"       <span ng-class=\"{'active': showTooltip1}\">",'           <span ng-show="tipFalse"></span>{{tipFalse}}',"       </span>",'       <br ng-show="vertical">','       <span ng-class="{\'active\': showTooltip2}" ng-show="triToggle">','           <span ng-show="tipNull"></span>{{tipNull}}',"       </span>",'       <br ng-show="vertical">',"       <span ng-class=\"{'active': showTooltip3}\">",'           <span ng-show="tipTrue"></span>{{tipTrue}}',"       </span>","   </div>","</div>"].join(""),link:function(l,o,t){function a(){s(),y(N.ngModel)||(y(N.valDefault)?N.ngModel=N.valDefault:N.triToggle?N.ngModel=N.valNull:N.ngModel=N.valFalse);var e=!0;N.$watch("ngModel",function(){if(g(),e)return void(e=!1);if(N.onToggle.call){var l=N.onToggle();l&&l.call&&l(N.ngModel)}},!0),d(o[0],"mousedown touchstart",n),N.$on("$destroy",function(){p(o[0],"mousedown touchstart",n),p(window,"mousemove touchmove",i),p(window,"mouseup touchend",r)})}function n(e){if(!N.ngDisabled)return e=e?e:window.event,v={x:e.pageX||e.touches[0].pageX,y:e.pageY||e.touches[0].pageY},w=0,m.css("transition","0s"),d(window,"mousemove touchmove",i),d(window,"mouseup touchend",r),e.stopPropagation(),e.returnValue=!1,!1}function i(e){e=e?e:window.event;var l=(e.pageY||e.touches[0].pageY)-v.y,t=(e.pageX||e.touches[0].pageX)-v.x,a=o[0].offsetHeight,n=o[0].offsetWidth,i=l/(a/2)*100,r=t/(n/1)*100;return N.vertical?(h=parseFloat(F.vertical[N.state]),f=Math.max(Math.min(parseFloat(i+h),150),0),T=h+(f-h)/2,m.css("top",T+"%")):(h=parseFloat(F.horizontal[N.state]),f=Math.max(Math.min(parseFloat(r+h),100),0),T=h+(f-h),m.css("left",T+"%")/2,M.css("cssText","background: linear-gradient(to right, #eb4c51 "+T+"%, #00e5ff  100%)")),w=Math.max(w,Math.max(Math.abs(l),Math.abs(t))),e.stopPropagation(),e.returnValue=!1,!1}function r(e){return e=e?e:window.event,v=!1,N.$apply(function(){if(!(w<1&&"mouseup"==e.type||w<1&&"touchend"==e.type))return N.triToggle?N.vertical?f>73?void c("false"):f>27?void c("null"):void c("true"):f<27?void c("false"):f<73?void c("null"):void c("true"):N.vertical?f>50?void c("false"):void c("true"):f<50?void c("false"):void c("true")}),M.css("cssText","background: "),m.css({top:"",left:"",transition:""}),p(window,"mousemove touchmove",i),p(window,"mouseup touchend",r),e.stopPropagation(),e.returnValue=!1,!1}function s(){if(angular.extend(N,b,N.config||{}),y(t.triToggle)&&(N.triToggle=!0),angular.forEach(["valDefault","valTrue","valFalse","valNull","width","height","colorFalse","colorNull","colorTrue"],function(e){y(t[e])&&(N[e]=N.$eval(t[e]))}),angular.forEach(["tipTrue","tipFalse","tipNull"],function(e){y(t[e])&&N.$watch(t[e],function(l){N[e]=l})}),(N.tipTrue||t.tipFalse||t.tipNull)&&(N.tooltip=!0),y(t.vertical)){N.vertical=!0;var e;N.tooltip&&(e=N.tipTrue,N.tipTrue=N.tipFalse,N.tipFalse=e),N.$eval(t.width)||N.$eval(t.width)||N.config&&(N.config.width||N.config.height)||(e=N.width,N.width=N.height,N.height=e)}N.wrapStyle={width:N.width+"px",height:N.height+"px"},y(N.outerRadius)||(N.outerRadius=Math.min(N.width,N.height)/2),N.innerRadius=N.outerRadius-N.padding}function u(){return[N.vertical?"vertical":"horizontal",N.state]}function g(){return N.showTooltip1=!1,N.showTooltip2=!1,N.showTooltip3=!1,angular.equals(N.ngModel,N.valTrue)?(null!=N.colorTrue&&(N.wrapStyle.backgroundColor=N.colorTrue),N.state="true",void(N.vertical?N.showTooltip1=!0:N.showTooltip3=!0)):angular.equals(N.ngModel,N.valFalse)?(N.state="false",null!=N.colorFalse&&(N.wrapStyle.backgroundColor=N.colorFalse),void(N.vertical?N.showTooltip3=!0:N.showTooltip1=!0)):(N.state="null",null!=N.colorNull&&(N.wrapStyle.backgroundColor=N.colorNull),void(N.showTooltip2=!0))}function c(l){N.ngDisabled||e(function(){if(l){if(N.state=l,"false"===l)return void(N.ngModel=N.valFalse);if("null"===l)return void(N.ngModel=N.valNull);N.ngModel=N.valTrue}else{if("false"==N.state)return void(N.ngModel=N.triToggle?N.valNull:N.valTrue);if("null"==N.state)return void(N.ngModel=N.valTrue);N.ngModel=N.valFalse}})}function d(e,l,o){for(var t=l.split(" "),a=0,n=t.length;a<n;a++)e.addEventListener(t[a],o,!1)}function p(e,l,o){for(var t=l.split(" "),a=0,n=t.length;a<n;a++)e.removeEventListener(t[a],o,!1)}var v,h,f,w,T,m=angular.element(o[0].querySelector(".nz-toggle-handle")),M=angular.element(o[0]),F={horizontal:{"false":0,"null":50,"true":100},vertical:{"false":100,"null":50,"true":0}},y=angular.isDefined,b=(angular.copy,{vertical:!1,valTrue:!0,valFalse:!1,valNull:null,width:290,height:25,padding:3,colorTrue:null,colorFalse:null,colorNull:null,tooltip:!1}),N=l;angular.extend(N,{getStyle:u,toggle:c}),a()}}}])}();